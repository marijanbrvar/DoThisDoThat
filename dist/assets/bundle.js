(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.querySelector(".container"),this.container.classList.add("container-md","clearfix"),this.jobs=document.createElement("div"),this.list=document.createElement("div"),this.list.setAttribute("id","list"),this.list.classList.add("col-sm-12","col-md-4","float-left","p-2"),this.jobs.classList.add("col-sm-12","col-md-8","float-left","p-2"),this.jobs.setAttribute("id","jobs"),this.container.append(this.list,this.jobs)}var n,a,i;return n=t,i=[{key:"removeFromList",value:function(e,t){var n=document.querySelector(e);return Array.from(n.childNodes).find((function(e){return e.id===t}))}},{key:"buildForm",value:function(e,t,n,a){var i=document.querySelector(e),d=document.createElement("form"),l=document.createElement("input");l.classList.add("form-control","input-sm"),l.type="text",l.name=n,l.placeholder=t;var r=document.createElement("button");return r.classList.add("btn","btn-outline","btn-sm"),r.innerText=a,d.append(l,r),i.appendChild(d),d}}],(a=[{key:"addToList",value:function(e,t,n){var a=document.querySelector(e),i=document.createElement(t);return i.innerText=n.name,i.classList.add("menu-item"),i.setAttribute("aria-current","page"),i.id=n.id,a.appendChild(i),i}},{key:"buildHeader",value:function(e){var t=document.querySelector("BODY"),n=document.createElement("div"),a=document.createElement("div"),i=document.createElement("a");return i.href="/",i.classList.add("Header-link"),n.classList.add("Header","mb-3"),a.classList.add("Header-item"),i.innerText=e,n.appendChild(a),a.appendChild(i),t.prepend(n),n}},{key:"buildSideList",value:function(e,t){var n=document.querySelector("#list"),a=document.createElement("nav"),i=document.createElement("span"),d=document.createElement("form"),l=document.createElement("input"),r=document.createElement("button");return r.classList.add("btn","ml-1","btn-outline"),r.type="submit",r.innerText="Add",l.classList.add("form-control","input-md"),l.name="jobInput",d.append(l,r),d.setAttribute("id","job-form"),i.classList.add("menu-heading","color-bg-info"),i.setAttribute("id","menu-heading"),i.innerText=e,a.appendChild(i),a.classList.add("menu","mt-6"),a.setAttribute("aria-label","Person settings"),t.forEach((function(e){var t=document.createElement("a");t.classList.add("menu-item"),e.active&&t.setAttribute("aria-current","page"),t.innerText=e.name,t.setAttribute("id",e.id),a.appendChild(t)})),n.append(a,d),a}},{key:"buildBlankSlate",value:function(e,t){var n=document.createElement("div"),a=document.createElement("h3"),i=document.createElement("p");return n.classList.add("blankslate"),a.classList.add("mb-1"),a.innerText=e,i.innerText=t,n.append(a,i),this.jobs.append(n),n}},{key:"buildJobItemsList",value:function(e,t){var n=document.querySelector("#jobs"),a=document.createElement("div"),i=document.createElement("div"),d=document.createElement("h3"),l=document.createElement("span");return l.classList.add("Counter","Counter--gray-dark","ml-2"),l.innerText=t.length,a.classList.add("Box","mb-4","tasks"),i.classList.add("Box-header","Box-header--blue"),d.classList.add("Box-title"),d.innerText=e,d.appendChild(l),i.appendChild(d),a.appendChild(i),t.forEach((function(e){var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("strong"),d=document.createElement("div"),l=document.createElement("button");t.setAttribute("data-tasks-item",""),t.id=e.id,l.classList.add("btn","btn-sm"),l.setAttribute("data-status-button",""),l.innerText=e.completed?"Finished":"In progress...",t.classList.add("Box-row","d-flex","flex-items-center"),n.classList.add("flex-auto"),d.classList.add("text-small","text-gray-light"),i.innerText=e.title,d.innerHTML="\n      <div><strong>Due:</strong> ".concat(e.due,"</div>\n      <strong>Desc:</strong> ").concat(e.description,'\n      <div class="text-bold ').concat("heigh"===e.weigth?"color-text-danger":"medium"===e.weigth?"color-text-warning":"color-text-success",'"><strong>Priority:</strong> ').concat(e.weigth,'</div> \n      <div >\n      <button class="btn-octicon ml-0" type="button" aria-label="Pencil icon" data-edit-task>\n      <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">\n      <path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path>\n      </svg>\n      </button>\n      <button class="btn-octicon ml-0" type="button" aria-label="Pencil icon" data-delete-task>\n      <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">\n      <path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path>\n      </svg>\n      </button>\n      </div>\n      '),n.append(i,d),t.append(n,l),a.append(t)})),n.appendChild(a),a}},{key:"buildNewJobButton",value:function(){var e=document.querySelector("#jobs"),t=document.createElement("div");t.id="action-bar";var n=document.createElement("button");return t.classList.add("mb-2","text-right"),n.classList.add("btn","btn-outline"),n.innerText="New Task",n.id="new",t.append(n),e.appendChild(t),n}},{key:"buildDeleteJobButton",value:function(){var e=document.querySelector("#action-bar"),t=document.createElement("button");return t.classList.add("btn","btn-outline","mr-2"),t.innerText="Delete Job",t.id="delete",e.prepend(t),t}},{key:"buildNewJobForm",value:function(e){var t=document.querySelector("#jobs"),n=document.createElement("form"),a=document.createElement("div"),i=document.createElement("h3"),d=document.createElement("div"),l=document.createElement("div");return d.classList.add("Box-body"),l.classList.add("Box-footer","text-right"),i.classList.add("Box-title"),i.innerText=e,a.classList.add("Box-header","Box-header--blue"),n.classList.add("Box"),n.id="newtask",n.style.display="none",d.classList.add("Box-body"),d.innerHTML='\n    <div class="form-group">\n      <div class="form-group-header">\n        <label>Title</label>\n      </div>\n      <div class="form-group-body">\n        <input class="form-control input-block" type="text" name="title">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="form-group-header">\n        <label>Description</label>\n      </div>\n      <div class="form-group-body">\n        <input class="form-control input-block" type="text" name="desc">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="form-group-header">\n        <label>Priority</label>\n      </div>\n      <div class="radio-group">\n      <input class="radio-input" id="normal" type="radio" name="weigth" value="normal">\n      <label class="radio-label" for="normal">Normal</label>\n      <input class="radio-input" id="medium" type="radio" name="weigth" value="medium">\n      <label class="radio-label" for="medium">Medium</label>\n      <input class="radio-input" id="height" type="radio" name="weigth" value="heigh">\n      <label class="radio-label" for="height">Heigh</label>\n    </div>\n    </div>\n    \n    <div class="form-group">\n      <div class="form-group-header">\n        <label>Due date:</label>\n      </div>\n      <div class="form-group-body">\n        <input class="form-control input-block" type="date" name=\'due\'>\n      </div>\n    </div>\n    ',l.innerHTML='\n    <button class="btn btn-secondary mr-1" id="cancle" data-cancle-button >Cancel</button>\n    <button class="btn btn-primary" data-submit-button>Submit</button>\n    ',a.append(i),n.append(a,d,l),t.appendChild(n),n}}])&&e(n.prototype,a),i&&e(n,i),t}(),n="jobs.lists",a=JSON.parse(localStorage.getItem(n))||[{id:1,name:"MyList",active:!0,jobtasks:[]}],i=new t,d=function(){return a.findIndex((function(e){return!0===e.active}))};i.buildHeader("Things need to be done!"),i.buildSideList("Job list",a),i.buildNewJobButton(),i.buildDeleteJobButton(),0!==a.length&&0!==a[d()].jobtasks.length||i.buildBlankSlate("This is a blank slate","Use it to provide information when no dynamic content exists."),0!==a.length&&0!==a[d()].jobtasks.length&&i.buildJobItemsList(a[d()].name,a[d()].jobtasks);var l=document.querySelector("#job-form"),r=document.querySelector("nav"),o=document.querySelector("#delete"),s=document.querySelector("#new"),c=document.querySelector(".tasks"),u=function(e){localStorage.setItem(n,JSON.stringify(e)),window.location.reload()};function m(){if(0!==a.length){var e=a.findIndex((function(e){return!0===e.active}));a[e].active=!1}}l.addEventListener("submit",(function(e){e.preventDefault();var t=l.jobInput.value.trim();if(null!==t&&""!==t){var n,d=(n=t,m(),{id:a.length+1,name:n,active:!0,jobtasks:[]});l.jobInput.value=null,a.push(d),u(a),i.addToList("nav","a",d)}})),r.addEventListener("click",(function(e){var t=e.target.id;m();var n=a.findIndex((function(e){return e.id===parseInt(t,10)}));a[n].active=!0,u(a)})),0!==a.length?(o.setAttribute("aria-disabled","false"),o.addEventListener("click",(function(){0!==(a=a.filter((function(e){return e.id!==a[d()].id}))).length&&(a[0].active=!0),0===a.length&&(a=""),u(a)})),s.addEventListener("click",(function(){var e;i.buildNewJobForm("New task"),(e=document.querySelector("#newtask")).addEventListener("click",(function(t){t.stopPropagation();var n=e.title.value,i=e.desc.value,l=e.weigth.value,r=e.due.value;""!==n&&null!==n&&""!==l&&null!==l&&""!==r&&null!==r&&(a[d()].jobtasks.push({id:a[d()].jobtasks.length+1,title:n,description:i,weigth:l,due:r,completed:!1}),u(a))})),document.querySelector("#newtask").style.display="block"}))):(o.setAttribute("aria-disabled","true"),s.setAttribute("aria-disabled","true")),0!==a[d()].jobtasks.length&&c.addEventListener("click",(function(e){var t=e.target.parentElement.id,n=parseInt(e.target.closest(".Box-row").id,10),l=a[d()].jobtasks.findIndex((function(e){return e.id===parseInt(t,10)}));if(0===a[d()].jobtasks.length||e.target.hasAttribute("data-status-button")){var r=a[d()].jobtasks[l];r.completed=!r.completed,u(a)}if(0===a[d()].jobtasks.length||e.target.parentElement.hasAttribute("data-delete-task")){var o=a[d()].jobtasks.filter((function(e){return e.id!==n}));a[d()].jobtasks=o,u(a)}if(0===a[d()].jobtasks.length||e.target.parentElement.hasAttribute("data-edit-task")){var s=e.target.parentElement.closest(".Box-row").id,c=a[d()].jobtasks.findIndex((function(e){return e.id===parseInt(s,10)})),m=a[d()].jobtasks[c];i.buildNewJobForm("Upadate ".concat(m.title));var b=document.querySelector("#newtask");b.style.display="",b.title.setAttribute("value",m.title),b.desc.value=m.description,b.weigth.value=m.weigth,b.due.value=m.due,function(e){var t=document.querySelector("#newtask"),n=a[d()].jobtasks.findIndex((function(t){return t.id===parseInt(e,10)}));t.addEventListener("submit",(function(i){i.preventDefault();var l={id:parseInt(e,10),title:t.title.value,description:t.desc.value,weigth:t.weigth.value,due:t.due.value};a[d()].jobtasks[n]=l,u(a)}))}(s)}}))})();